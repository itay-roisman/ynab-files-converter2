{"numFailedTestSuites":1,"numFailedTests":3,"numPassedTestSuites":0,"numPassedTests":6,"numPendingTestSuites":0,"numPendingTests":0,"numRuntimeErrorTestSuites":0,"numTodoTests":0,"numTotalTestSuites":1,"numTotalTests":9,"openHandles":[],"snapshot":{"added":0,"didUpdate":false,"failure":false,"filesAdded":0,"filesRemoved":0,"filesRemovedList":[],"filesUnmatched":0,"filesUpdated":0,"matched":0,"total":0,"unchecked":0,"uncheckedKeysByFile":[],"unmatched":0,"updated":0},"startTime":1746284502950,"success":false,"testResults":[{"assertionResults":[{"ancestorTitles":["isMizrahiTfahotFile"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"isMizrahiTfahotFile should identify valid Mizrahi Tfahot file with account statement marker","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"should identify valid Mizrahi Tfahot file with account statement marker"},{"ancestorTitles":["isMizrahiTfahotFile"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"isMizrahiTfahotFile should identify valid Mizrahi Tfahot file with HTML content","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should identify valid Mizrahi Tfahot file with HTML content"},{"ancestorTitles":["isMizrahiTfahotFile"],"duration":1,"failureDetails":[{"matcherResult":{"message":"expect(received).toBeNull()\n\nReceived: \"Mizrahi Tfahot Account\"","pass":false}}],"failureMessages":["Error: expect(received).toBeNull()\n\nReceived: \"Mizrahi Tfahot Account\"\n    at Object.<anonymous> (/Users/itay.roisman/code/ynab-files-converter/app/analyzers/__tests__/mizrahiTfahotAnalyzer.test.ts:87:20)\n    at Promise.then.completed (/Users/itay.roisman/code/ynab-files-converter/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/itay.roisman/code/ynab-files-converter/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/itay.roisman/code/ynab-files-converter/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (/Users/itay.roisman/code/ynab-files-converter/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/itay.roisman/code/ynab-files-converter/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/itay.roisman/code/ynab-files-converter/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/itay.roisman/code/ynab-files-converter/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/itay.roisman/code/ynab-files-converter/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/itay.roisman/code/ynab-files-converter/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/itay.roisman/code/ynab-files-converter/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/itay.roisman/code/ynab-files-converter/node_modules/jest-runner/build/runTest.js:444:34)"],"fullName":"isMizrahiTfahotFile should return null for non-Mizrahi Tfahot files","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"should return null for non-Mizrahi Tfahot files"},{"ancestorTitles":["analyzeMizrahiTfahotFile"],"duration":2,"failureDetails":[{"matcherResult":{"message":"expect(received).toHaveLength(expected)\n\nExpected length: 4\nReceived length: 0\nReceived array:  []","pass":false}}],"failureMessages":["Error: expect(received).toHaveLength(expected)\n\nExpected length: 4\nReceived length: 0\nReceived array:  []\n    at Object.<anonymous> (/Users/itay.roisman/code/ynab-files-converter/app/analyzers/__tests__/mizrahiTfahotAnalyzer.test.ts:157:33)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)"],"fullName":"analyzeMizrahiTfahotFile should parse Excel content and transform data correctly","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"failed","title":"should parse Excel content and transform data correctly"},{"ancestorTitles":["analyzeMizrahiTfahotFile"],"duration":3,"failureDetails":[],"failureMessages":[],"fullName":"analyzeMizrahiTfahotFile should throw error for non-ArrayBuffer content","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"should throw error for non-ArrayBuffer content"},{"ancestorTitles":["analyzeMizrahiTfahotFile"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"analyzeMizrahiTfahotFile should extract transactions from Excel with various header formats","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"should extract transactions from Excel with various header formats"},{"ancestorTitles":["MIZRAHI_TFAHOT_FIELD_MAPPINGS"],"duration":1,"failureDetails":[{"matcherResult":{"actual":"01-05-25","expected":"2025-05-01","message":"expect(received).toBe(expected) // Object.is equality\n\nExpected: \"2025-05-01\"\nReceived: \"01-05-25\"","name":"toBe","pass":false}}],"failureMessages":["Error: expect(received).toBe(expected) // Object.is equality\n\nExpected: \"2025-05-01\"\nReceived: \"01-05-25\"\n    at Object.<anonymous> (/Users/itay.roisman/code/ynab-files-converter/app/analyzers/__tests__/mizrahiTfahotAnalyzer.test.ts:291:49)\n    at Promise.then.completed (/Users/itay.roisman/code/ynab-files-converter/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/itay.roisman/code/ynab-files-converter/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/itay.roisman/code/ynab-files-converter/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (/Users/itay.roisman/code/ynab-files-converter/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/itay.roisman/code/ynab-files-converter/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/itay.roisman/code/ynab-files-converter/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/itay.roisman/code/ynab-files-converter/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/itay.roisman/code/ynab-files-converter/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/itay.roisman/code/ynab-files-converter/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/itay.roisman/code/ynab-files-converter/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/itay.roisman/code/ynab-files-converter/node_modules/jest-runner/build/runTest.js:444:34)"],"fullName":"MIZRAHI_TFAHOT_FIELD_MAPPINGS should correctly transform date format","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"failed","title":"should correctly transform date format"},{"ancestorTitles":["MIZRAHI_TFAHOT_FIELD_MAPPINGS"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"MIZRAHI_TFAHOT_FIELD_MAPPINGS should correctly transform debit amount format","invocations":1,"location":null,"numPassingAsserts":5,"retryReasons":[],"status":"passed","title":"should correctly transform debit amount format"},{"ancestorTitles":["MIZRAHI_TFAHOT_FIELD_MAPPINGS"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"MIZRAHI_TFAHOT_FIELD_MAPPINGS should correctly transform credit amount format","invocations":1,"location":null,"numPassingAsserts":5,"retryReasons":[],"status":"passed","title":"should correctly transform credit amount format"}],"endTime":1746284503153,"message":"  ● isMizrahiTfahotFile › should return null for non-Mizrahi Tfahot files\n\n    expect(received).toBeNull()\n\n    Received: \"Mizrahi Tfahot Account\"\n\n      85 |\n      86 |     // Should return null because sheet doesn't contain Mizrahi markers\n    > 87 |     expect(result).toBeNull();\n         |                    ^\n      88 |   });\n      89 | });\n      90 |\n\n      at Object.<anonymous> (app/analyzers/__tests__/mizrahiTfahotAnalyzer.test.ts:87:20)\n\n  ● analyzeMizrahiTfahotFile › should parse Excel content and transform data correctly\n\n    expect(received).toHaveLength(expected)\n\n    Expected length: 4\n    Received length: 0\n    Received array:  []\n\n      155 |\n      156 |     // Verify the transformed transactions\n    > 157 |     expect(result.transactions).toHaveLength(4);\n          |                                 ^\n      158 |\n      159 |     // First transaction - Credit (income)\n      160 |     expect(result.transactions[0]).toEqual({\n\n      at Object.<anonymous> (app/analyzers/__tests__/mizrahiTfahotAnalyzer.test.ts:157:33)\n\n  ● MIZRAHI_TFAHOT_FIELD_MAPPINGS › should correctly transform date format\n\n    expect(received).toBe(expected) // Object.is equality\n\n    Expected: \"2025-05-01\"\n    Received: \"01-05-25\"\n\n      289 |       \n      290 |       // Test alternative date format with dashes\n    > 291 |       expect(dateMapping.transform('01-05-25')).toBe('2025-05-01');\n          |                                                 ^\n      292 |\n      293 |       // Test invalid date format\n      294 |       expect(dateMapping.transform('invalid-date')).toBe('invalid-date');\n\n      at Object.<anonymous> (app/analyzers/__tests__/mizrahiTfahotAnalyzer.test.ts:291:49)\n","name":"/Users/itay.roisman/code/ynab-files-converter/app/analyzers/__tests__/mizrahiTfahotAnalyzer.test.ts","startTime":1746284503048,"status":"failed","summary":""}],"wasInterrupted":false}
